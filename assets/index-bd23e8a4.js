import{r as v,o as p,c as m,a as t,b as T,w as I,t as q,d as g,e as f,v as x,f as w,g as A,h as V,i as D}from"./vendor-f9799e8e.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();const L="/athwfw/assets/logo-3756fc86.png";const M=(y,l)=>{const i=y.__vccOpts||y;for(const[r,s]of l)i[r]=s;return i},P={id:"app"},U={class:"home-page"},E={class:"service-grid"},j={class:"temperature-control"},B={class:"modal-actions"},R={class:"tea-options"},F={class:"modal-actions"},H={class:"equipment-options"},J={class:"modal-actions"},K={key:3,class:"success-message"},W={__name:"App-simple",setup(y){const l=v(!1),i=v(!1),r=v(!1),s=v(!1),a=v(""),d=v(24),u=v("更换"),c=v([]),b=v(""),k=()=>({name:"会议室A-301",building:"A栋",floor:"3楼"}),C=()=>({name:"张三",department:"技术部",mobile:"138****1234"}),$=async n=>{try{console.log("准备发送企业微信通知:",n);const e=await fetch("http://localhost:3001/api/wechat/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serviceInfo:n})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.json();return console.log("企业微信通知发送成功:",o),o}catch(e){throw console.error("企业微信通知发送失败:",e),console.error("错误详情:",e.message),e}},N=async()=>{const n={type:"空调调温",details:{temperature:d.value,note:"用户通过阿泰会务服务系统申请"},roomInfo:k(),userInfo:C(),timestamp:Date.now()};try{await $(n),a.value=`空调调温申请已提交，目标温度：${d.value}°C
企业微信通知已发送，工作人员将尽快为您处理`}catch{console.warn("企业微信通知发送失败，但申请已记录"),a.value=`空调调温申请已提交，目标温度：${d.value}°C
工作人员将尽快为您处理`}l.value=!1,s.value=!0},O=async()=>{const n={type:"茶水服务",details:{serviceType:u.value,quantity:1,note:"用户通过阿泰会务服务系统申请"},roomInfo:k(),userInfo:C(),timestamp:Date.now()};try{await $(n),a.value=`茶水服务申请已提交，服务类型：${u.value}
企业微信通知已发送，工作人员将尽快为您处理`}catch{console.warn("企业微信通知发送失败，但申请已记录"),a.value=`茶水服务申请已提交，服务类型：${u.value}
工作人员将尽快为您处理`}i.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},3e3)},S=async()=>{const n=c.value.join("、"),e={type:"设备维护",details:{equipmentType:n,issue:b.value||"设备检查维护",urgency:"普通",note:"用户通过阿泰会务服务系统申请"},roomInfo:k(),userInfo:C(),timestamp:Date.now()};try{await $(e),a.value=`设备维护申请已提交，设备：${n}
企业微信通知已发送，工作人员将尽快为您处理`}catch{console.warn("企业微信通知发送失败，但申请已记录"),a.value=`设备维护申请已提交，设备：${n}
工作人员将尽快为您处理`}r.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},3e3),c.value=[],b.value=""};return(n,e)=>(p(),m("div",P,[t("div",U,[e[30]||(e[30]=t("div",{class:"page-header"},[t("div",{class:"header-content"},[t("div",{class:"logo-container"},[t("img",{src:L,alt:"阿泰会务服务",class:"logo",onerror:"console.log('Logo failed to load')"})]),t("h1",{class:"page-title"},"阿泰会务服务"),t("p",{class:"page-subtitle"},"为您提供专业便捷的会议室服务")]),t("div",{class:"header-decoration"})],-1)),t("div",E,[t("div",{class:"service-card air-condition",onClick:e[0]||(e[0]=o=>l.value=!0)},e[20]||(e[20]=[T('<div class="service-background" data-v-98d7c54a><div class="service-icon" data-v-98d7c54a>❄️</div></div><div class="service-content" data-v-98d7c54a><h3 class="service-title" data-v-98d7c54a>空调调温</h3><p class="service-desc" data-v-98d7c54a>调节会议室温度</p><div class="service-arrow" data-v-98d7c54a>→</div></div>',2)])),t("div",{class:"service-card tea-service",onClick:e[1]||(e[1]=o=>i.value=!0)},e[21]||(e[21]=[T('<div class="service-background" data-v-98d7c54a><div class="service-icon" data-v-98d7c54a>☕</div></div><div class="service-content" data-v-98d7c54a><h3 class="service-title" data-v-98d7c54a>茶水服务</h3><p class="service-desc" data-v-98d7c54a>茶水更换或添加</p><div class="service-arrow" data-v-98d7c54a>→</div></div>',2)])),t("div",{class:"service-card equipment-service",onClick:e[2]||(e[2]=o=>r.value=!0)},e[22]||(e[22]=[T('<div class="service-background" data-v-98d7c54a><div class="service-icon" data-v-98d7c54a>🎤</div></div><div class="service-content" data-v-98d7c54a><h3 class="service-title" data-v-98d7c54a>设备维护</h3><p class="service-desc" data-v-98d7c54a>话筒、投影设备</p><div class="service-arrow" data-v-98d7c54a>→</div></div>',2)]))]),l.value?(p(),m("div",{key:0,class:"modal-overlay",onClick:e[7]||(e[7]=o=>l.value=!1)},[t("div",{class:"modal-content",onClick:e[6]||(e[6]=I(()=>{},["stop"]))},[e[23]||(e[23]=t("h3",null,"空调调温",-1)),t("div",j,[t("button",{onClick:e[3]||(e[3]=o=>d.value--)},"-"),t("span",null,q(d.value)+"°C",1),t("button",{onClick:e[4]||(e[4]=o=>d.value++)},"+")]),t("div",B,[t("button",{onClick:N,class:"submit-btn"},"提交申请"),t("button",{onClick:e[5]||(e[5]=o=>l.value=!1),class:"cancel-btn"},"取消")])])])):g("",!0),i.value?(p(),m("div",{key:1,class:"modal-overlay",onClick:e[12]||(e[12]=o=>i.value=!1)},[t("div",{class:"modal-content",onClick:e[11]||(e[11]=I(()=>{},["stop"]))},[e[26]||(e[26]=t("h3",null,"茶水服务",-1)),t("div",R,[t("label",null,[f(t("input",{type:"radio","onUpdate:modelValue":e[8]||(e[8]=o=>u.value=o),value:"更换"},null,512),[[x,u.value]]),e[24]||(e[24]=w(" 更换茶水"))]),t("label",null,[f(t("input",{type:"radio","onUpdate:modelValue":e[9]||(e[9]=o=>u.value=o),value:"添加"},null,512),[[x,u.value]]),e[25]||(e[25]=w(" 添加茶水"))])]),t("div",F,[t("button",{onClick:O,class:"submit-btn"},"提交申请"),t("button",{onClick:e[10]||(e[10]=o=>i.value=!1),class:"cancel-btn"},"取消")])])])):g("",!0),r.value?(p(),m("div",{key:2,class:"modal-overlay",onClick:e[18]||(e[18]=o=>r.value=!1)},[t("div",{class:"modal-content",onClick:e[17]||(e[17]=I(()=>{},["stop"]))},[e[29]||(e[29]=t("h3",null,"设备维护",-1)),t("div",H,[t("label",null,[f(t("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=o=>c.value=o),value:"话筒"},null,512),[[A,c.value]]),e[27]||(e[27]=w(" 话筒"))]),t("label",null,[f(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=o=>c.value=o),value:"投影"},null,512),[[A,c.value]]),e[28]||(e[28]=w(" 投影设备"))])]),f(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=o=>b.value=o),placeholder:"请描述具体问题..."},null,512),[[V,b.value]]),t("div",J,[t("button",{onClick:S,class:"submit-btn"},"提交申请"),t("button",{onClick:e[16]||(e[16]=o=>r.value=!1),class:"cancel-btn"},"取消")])])])):g("",!0),s.value?(p(),m("div",K,[t("p",null,q(a.value),1),t("button",{onClick:e[19]||(e[19]=o=>s.value=!1)},"确定")])):g("",!0)])]))}},z=M(W,[["__scopeId","data-v-98d7c54a"]]);const G=D(z);G.mount("#app");
